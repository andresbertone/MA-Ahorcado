(()=>{"use strict";class e{name(){return this.name}users(){return this.users}userLogged(){return this.userLogged}constructor(){this.users=[{username:"admin",password:"adminpassword"},{username:"invitado",password:"invitadopassword"}],this.userLogged={}}login(e){return e?(this.name=e,`Hola ${this.name}`):"Hola Jugador Anónimo"}loginUserAndPassword(e,t){let r=!1;if(e&&t)return this.users.forEach((s=>{s.username===e&&s.password===t&&(this.userLogged={username:e,password:t},r=!0)})),r}}class t{player(){return this.player}word(){return this.word}correctLetters(){return this.correctLetters}wrongLetters(){return this.wrongLetters}availableWords(){return this.availableWords}maximumNumberOfErrorsInLetters(){return this.maximumNumberOfErrorsInLetters}maximumNumberOfErrorsInWordsInput(){return this.maximumNumberOfErrorsInWordsInput}failAttemptsWordChoose(){return this.failAttemptsWordChoose}timeLimitInMinutes(){return this.timeLimitInMinutes}difficulty(){return this.difficulty}lengthForEachDifficulty(){return this.lengthForEachDifficulty}totalScore(){return this.totalScore}riskedWord(){return this.riskedWord}constructor(){this.player=new e,this.correctLetters=[],this.wrongLetters=[],this.availableWords=[],this.failAttemptsWordChoose=0,this.difficulty=1,this.lengthForEachDifficulty=[],this.totalScore=0,this.riskedWord=""}useHint(){for(let e=0;e<this.word.length;e++)if(this.correctLetters.indexOf(this.word[e])<0)return this.word[e]}setLengthWordForEachDifficulty(e){if(e&&(this.lengthForEachDifficulty=e,3===this.lengthForEachDifficulty.length))return`Fácil: ${this.lengthForEachDifficulty[0].length}, Intermedio: ${this.lengthForEachDifficulty[1].length}, Difícil: ${this.lengthForEachDifficulty[2].length}`}setDifficulty(e){if(e){let t;switch(e){case 1:t="Fácil";break;case 2:t="Intermedio";break;case 3:t="Difícil"}return this.difficulty=e,`Dificultad elegida: ${t}`}}getIncorrectLetter(e){if(e&&!this.word.includes(e))return e}chooseRandomWord(){let e=0;return this.availableWords=this.availableWords.map((e=>e.toLowerCase())),e=this.availableWords.length>1?this.getRandomInt(0,this.availableWords.length-1):0,this.inputWord(this.availableWords[e].toLowerCase()),this.availableWords.includes(this.word)}chooseRiskyWord(e){this.riskedWord=e.toLowerCase(),this.word.toLowerCase()===this.riskedWord?this.totalScore+=10:this.failAttemptsWordChoose++}getRandomInt(e,t){return Math.floor(Math.random()*(t+1-e))+e}setTimeLimit(e){return e?(this.timeLimitInMinutes=e,"Tiempo límite de juego ingresado correctamente"):"Debe ingresar el tiempo"}setMaximumNumberOfErrorsInWordsInput(e){return e?(this.maximumNumberOfErrorsInWordsInput=e,"Se han guardado la cantidad máxima de errores al arriesgar la palabra"):"Debe ingresar la cantidad máxima de errores"}setMaximumNumberOfErrorsInLetters(e){return e?(this.maximumNumberOfErrorsInLetters=e,"Se han guardado la cantidad máxima de errores al ingresar letras"):"Debe ingresar la cantidad máxima de errores"}setAvailableWords(e){return e?(this.availableWords=e,"Palabras guardadas"):"Debe ingresar al menos una palabra"}login(e){return this.player.login(e)}loginUserAndPassword(e,t){return this.player.loginUserAndPassword(e,t)}inputWord(e){if(e)return this.word=e.toLowerCase(),"Palabra guardada"}chooseLetter(e){if(e){let t=this.word.toLowerCase().indexOf(e.toLowerCase());if(-1!==t){this.correctLetters.splice(t,0,e);let r=this.howManyTimesLetterAppear(e,t).length;return this.totalScore+=r,"Letra correcta"}return this.wrongLetters.push(e),0!==this.totalScore&&(this.totalScore-=1),"Letra incorrecta"}}letterPosition(e){if(e){let t=this.word.toLowerCase().indexOf(e.toLowerCase());if(-1!==t)return this.howManyTimesLetterAppear(e,t)}}howManyTimesLetterAppear(e,t){let r=[];for(;t<this.word.length;t++)this.word[t].toLowerCase()===e.toLowerCase()&&r.push(t);return r}getScore(){return this.word===this.riskedWord?(this.riskedWord=void 0,"Ganaste"):this.wrongLetters.length>=this.maximumNumberOfErrorsInLetters||this.failAttemptsWordChoose>=this.maximumNumberOfErrorsInWordsInput?"Perdiste":!this.riskedWord&&this.correctLetters.length>0&&this.correctLetters.every((e=>this.word.includes(e)))?"Ganaste":void 0}getScoreInNumbers(){return this.totalScore}}let r,s,i,o,a,n,d,l=!1,m=document.querySelector("#resultado").firstChild,c=document.querySelector("#intentos"),u=document.querySelector("#intentosOriginales"),h=document.querySelector("#puntuacionH2"),g=document.getElementById("stateGame");function f(){m.textContent=n.join(" ").toUpperCase(),c.textContent=i,h.textContent=s+" PUNTOS"}function I(){r=new t,l||(l=!0,alert(r.login())),r.setAvailableWords(["Agilidad"]),r.setMaximumNumberOfErrorsInLetters(6),r.setMaximumNumberOfErrorsInWordsInput(3),r.chooseRandomWord(),r.failAttemptsWordChoose=0,s=0,i=r.maximumNumberOfErrorsInLetters,o=i,a=[],n=[],d=[];let e=r.word,m=r.word.length;for(let t=0;t<m;t++)e.charAt(t).match(/[a-zñA-ZÑ]/)?(a.push(e.charAt(t).toLowerCase()),n.push("_")):(a.push(e.charAt(t)),n.push(e.charAt(t)));u.textContent=o,f()}function y(){let e=document.querySelectorAll("button.tecla");for(let t=0;t<e.length;t++)e[t].disabled=!0,document.getElementById(e[t].id).className="teclaDeshabilitada",d.push(e[t].id);document.getElementById("riskFieldWord").disabled=!0,document.getElementById("riskedWordButton").disabled=!0,document.getElementById("riskedWordButton").className="teclaDeshabilitada"}function b(){y(),n=a,document.getElementById("imagen").src="img/svg/victoria.svg",g.innerHTML="GANASTE",s=r.getScoreInNumbers(),f()}window.arriesgarPalabra=function(){const e=document.getElementById("riskFieldWord").value.toLowerCase();if(!e)return;r.chooseRiskyWord(e);const t=r.getScore();"Ganaste"===t?b():"Perdiste"===t&&(y(),n=a,g.innerHTML="PERDISTE",document.getElementById("imagen").src="img/svg/cabeza.svg",document.getElementById("imagen").src="img/svg/cuerpo.svg",document.getElementById("imagen").src="img/svg/brazoIzq.svg",document.getElementById("imagen").src="img/svg/brazoDer.svg",document.getElementById("imagen").src="img/svg/piernaIzq.svg",document.getElementById("imagen").src="img/svg/piernaDer.svg",s=r.getScoreInNumbers(),f()),document.getElementById("riskFieldWord").value=""},window.comprobarTecla=function(e){const t=r.letterPosition(e);t&&t.forEach((t=>{n[t]=e,document.getElementById("tecla"+e).disabled=!0,document.getElementById("tecla"+e).className="teclaDeshabilitada",d.push("tecla"+e)})),"Letra correcta"===r.chooseLetter(e)||(i>0&&(i-=1),5===i?document.getElementById("imagen").src="img/svg/cabeza.svg":4===i?document.getElementById("imagen").src="img/svg/cuerpo.svg":3===i?document.getElementById("imagen").src="img/svg/brazoIzq.svg":2===i?document.getElementById("imagen").src="img/svg/brazoDer.svg":1===i?document.getElementById("imagen").src="img/svg/piernaIzq.svg":0===i&&(document.getElementById("imagen").src="img/svg/piernaDer.svg"),document.getElementById("tecla"+e).disabled=!0,document.getElementById("tecla"+e).className="teclaDeshabilitada",d.push("tecla"+e)),n.includes("_")||b(),0===i&&(y(),g.innerHTML="PERDISTE",n=a),s=r.getScoreInNumbers(),f()},window.reiniciarPartida=function(){i=o,s=0,r.totalScore=0,g.innerHTML="",document.getElementById("imagen").src="img/svg/horca.svg";for(let e=0;e<d.length;e++)document.getElementById(d[e]).disabled=!1,document.getElementById(d[e]).className="tecla";document.getElementById("riskFieldWord").disabled=!1,document.getElementById("riskedWordButton").disabled=!1,document.getElementById("riskedWordButton").className="tecla",d=[],r.failAttemptsWordChoose=0,document.getElementById("riskFieldWord").value="",I()},I()})();